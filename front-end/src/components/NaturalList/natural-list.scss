@import "base/scss";

$item-layout: (
    3: (
        column-start: 11,
        row-start: 6,
    ),
    4: (
        column-start: 9,
        row-start: 7,
    ),
);

.natural-list {
    position: relative;
    
    &__content {
        padding-top: calc(100% * 8 / 13);
    }
    
    &__grid {
        display: grid;
        grid-template-columns: repeat(13, 1fr);
        grid-template-rows: repeat(8, 1fr);
        grid-gap: 5px;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        direction: rtl;
    }
    
    &__item {
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid color(red);
        position: relative;
        direction: ltr;

        // &:first-child {
            .natural-list__title {
                display: flex;
                position: absolute;
                bottom: 0;
                left: 0;
                width: 100%;
            }
        // }

        // Golden ratio items logic
        @for $i from 1 through 6 {
            $fib-num: fibonacci(8 - $i); // Get item from reversed fib

            &:nth-child(#{$i}) {
                grid-column-end: span #{$fib-num};
                grid-row-end: span #{$fib-num};

                @if map-has-key($item-layout, $i ) {
                    $item-layout: map-get($item-layout, $i );
    
                    @if map-has-key($item-layout, 'column-start') {
                        grid-column-start: map-get($item-layout, 'column-start');
                    }

                    @if map-has-key($item-layout, 'row-start') {
                        grid-row-start: map-get($item-layout, 'row-start');
                    }
                }
            }
        }
    }

    &__figure {
        width: calc(100% - 10px);
        height: calc(100% - 10px);
        margin-bottom: 0;
    }

    &__image {
        width: 100%;
        height: 100%;
        object-fit: contain;
        object-position: center;
    }

    &__title {
        display: none;
    }
}